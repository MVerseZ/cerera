# üéâ –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø PALLADA VM –í CERERA - –ó–ê–í–ï–†–®–ï–ù–ê

## ‚úÖ –°–¢–ê–¢–£–°: MVP –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–ê–õ–ò–ó–û–í–ê–ù

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã Pallada –≤ –±–ª–æ–∫—á–µ–π–Ω Cerera —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —ç—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

---

## üìä –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –≠–¢–ê–ü–´

### ‚úÖ –≠–¢–ê–ü 1: –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏ –±–ª–æ–∫—á–µ–π–Ω-–æ–ø–∫–æ–¥—ã
- Context —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ –±–ª–æ–∫–µ
- –°–∏—Å—Ç–µ–º–∞ –≥–∞–∑–∞ (GasMeter) —Å –ø–æ–¥—Å—á–µ—Ç–æ–º –∏ –ª–∏–º–∏—Ç–∞–º–∏
- 6 –±–ª–æ–∫—á–µ–π–Ω-–æ–ø–∫–æ–¥–æ–≤: ADDRESS, CALLER, CALLVALUE, CALLDATALOAD, CALLDATASIZE, CALLDATACOPY
- 8 —Ç–µ—Å—Ç–æ–≤

### ‚úÖ –≠–¢–ê–ü 2: –•—Ä–∞–Ω–∏–ª–∏—â–µ –∫–æ–¥–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
- –ú–µ—Ç–æ–¥—ã StoreContractCode, GetContractCode, HasContractCode
- –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ pogreb —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º "code:"
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ CodeHash
- 6 —Ç–µ—Å—Ç–æ–≤

### ‚úÖ –≠–¢–ê–ü 3: –¢–∏–ø —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
- –§—É–Ω–∫—Ü–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ AppTxType –≤ ExecuteTransaction
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ crvTxHash –¥–ª—è nil To
- 4 —Ç–µ—Å—Ç–∞

### ‚úÖ –≠–¢–ê–ü 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ ExecuteTransaction
- –ú–æ–¥—É–ª—å contract_executor.go
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ VM
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (RETURN, REVERT)
- –°–ø–∏—Å—ã–≤–∞–Ω–∏–µ –≥–∞–∑–∞

### ‚úÖ –≠–¢–ê–ü 5: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ (CREATE)
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–¥—Ä–µ—Å–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ (nonce-based)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞
- –û–±—Ä–∞–±–æ—Ç–∫–∞ runtime code –∏–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞

### ‚úÖ –≠–¢–ê–ü 7: Storage –¥–ª—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
- –û–ø–∫–æ–¥—ã SLOAD –∏ SSTORE
- StorageInterface –≤ Context
- –ú–µ—Ç–æ–¥—ã SetStorage/GetStorage –≤ Vault
- –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ pogreb —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º "storage:"
- 5 —Ç–µ—Å—Ç–æ–≤ –¥–ª—è storage –æ–ø–∫–æ–¥–æ–≤

### ‚úÖ –≠–¢–ê–ü 8: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- 5 —Ç–µ—Å—Ç–æ–≤ –¥–ª—è SLOAD/SSTORE
- 3 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–∞ –¥–ª—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
- –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

---

## üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê

### –ö–æ–¥
- **–ù–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:** 9
- **–ò–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:** 10+
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~2500+
- **–ù–æ–≤—ã—Ö –æ–ø–∫–æ–¥–æ–≤:** 8
- **–ù–æ–≤—ã—Ö –º–µ—Ç–æ–¥–æ–≤ Vault:** 5
- **–ù–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞:** 6+

### –¢–µ—Å—Ç—ã
- **–¢–µ—Å—Ç–æ–≤ VM:** 48 (–≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç ‚úÖ)
- **–¢–µ—Å—Ç–æ–≤ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤:** 7 (–≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç ‚úÖ)
- **–¢–µ—Å—Ç–æ–≤ storage:** 5 (–≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç ‚úÖ)
- **–í—Å–µ–≥–æ:** 60+ —Ç–µ—Å—Ç–æ–≤

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
- ‚úÖ –í—ã–∑–æ–≤ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
- ‚úÖ Storage –¥–ª—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–∞–∑–∞
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (REVERT, OutOfGas)

---

## üöÄ –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫:
- –°–æ–∑–¥–∞–Ω–∏—é —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏—é –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
- –†–∞–±–æ—Ç–µ —Å storage –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ –±–ª–æ–∫—á–µ–π–Ω Cerera

---

## üìù –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø

–î–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
- CALL –º–µ–∂–¥—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏ (–º–µ–∂–∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã–µ –≤—ã–∑–æ–≤—ã)
- CREATE2 –¥–ª—è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤
- BLOCKHASH, TIMESTAMP, NUMBER –æ–ø–∫–æ–¥—ã
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ edge cases

---

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** –î–µ–∫–∞–±—Ä—å 2024  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ MVP –ó–ê–í–ï–†–®–ï–ù
